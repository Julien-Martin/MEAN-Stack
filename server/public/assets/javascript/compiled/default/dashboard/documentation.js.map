{"version":3,"sources":["default/dashboard/documentation.ts"],"names":[],"mappings":"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","file":"documentation.js","sourcesContent":["///<reference path=\"../javascript/angularjs/Typings/angular.d.ts\"/>\n///<reference path=\"../remoteData.ts\"/>\n\nvar app = angular.module('myApp', []);\n\nclass angDocumentation {\n\n    private _httpService:ng.IHttpService = $http;\n    private _scope;\n\n    private elem:HTMLDivElement;\n    public docContainer:HTMLDivElement;\n\n    public fabDisplayed:Boolean;\n    public currentElement;\n    public confirm;\n\n    public view;\n    public tool;\n    public data;\n\n    public remoteDocs:RemoteData;\n\n    public mark;\n    public console;\n\n\n    $inject = [\"$http\", \"$scope\"];\n    private remoteUser;\n    public admin;\n\n    constructor($http:ng.IHttpService, $scope) {\n        //injections\n        this._httpService = $http;\n        this._scope = $scope;\n        this.console = console;\n        this.confirm = confirm;\n\n        this.tool = \"Edit\";\n\n        this.elem = document.getElementById(\"output\") as HTMLDivElement;\n        this.docContainer = document.getElementById(\"docContainer\") as HTMLDivElement;\n\n        //libraries\n        //noinspection TypeScriptUnresolvedFunction\n        this.mark = new Remarkable({\n            html: true,\n            linkify: true,\n            typographer: true\n        });\n\n        this.fabDisplayed = false;\n        //data related\n        this.view = \"Home\";\n        this._scope.$watch(\"$.remoteDocs.localData.content\", () => {\n            this.elem.innerHTML = this.mark.render(this.remoteDocs.localData.content);\n        });\n\n        this.remoteDocs = new RemoteData(\n            \"/dashboard/docs\",\n            \"/dashboard/docs\",\n            \"/dashboard/docs\",\n            \"/dashboard/docs\",\n            {\n                title: \"\",\n                content: \"Text here\",\n                tags: [],\n                author: \"Documentation\",\n            },\n            this._httpService\n        );\n\n        this.remoteUser = new RemoteData(\n            \"/me\",\n            \"/me\",\n            \"/me\",\n            \"/me\",\n            {\n                title: \"\",\n                content: \"Text here\",\n                tags: []\n            },\n            this._httpService\n        );\n        this.remoteDocs.getAllData()\n            .then(data => {\n                this._scope.$apply();\n            })\n        ;\n        this.admin = false;\n        this.remoteUser.getAllData()\n            .then(data => {\n                if (data.admin){\n                    this.admin = true;\n                }\n            })\n        ;\n        this.remoteDocs.clearLocal();\n    }\n\n    output(element) {\n        this.docContainer.innerHTML = this.mark.render(element.content);\n        this.fabDisplayed = true;\n        this.currentElement = element;\n    }\n\n    save() {\n        this.remoteDocs.localData.author = \"Documentation\";\n        this.remoteDocs.postToRemote().then(data => {\n            this.remoteDocs.clearLocal();\n            this.view = \"Home\";\n            this.tool = \"Create\";\n            this._scope.$apply();\n        })\n    }\n\n    delete() {\n        this.remoteDocs.deleteRemote(this.currentElement._id)\n            .then(data => {\n                this._scope.$apply();\n            })\n        ;\n        this.docContainer.innerHTML = \"\";\n    }\n\n    update() {\n        if (confirm('Are you sure you want to update this document?')) {\n            var content = this.currentElement.content;\n            this.remoteDocs.updateRemote(this.currentElement._id)\n                .then(data => {\n                    console.log(this.currentElement);\n                    this.remoteDocs.clearLocal();\n                    this.view = \"Home\";\n                    this.tool = \"Create\";\n                    this.docContainer.innerHTML = this.mark.render(content);\n                    this._scope.$apply();\n                })\n            ;\n        } else {\n            // Do nothing!\n        }\n    }\n\n    edit() {\n        console.log(\"asdasdasdasdads\");\n        this.view = \"Edit\";\n        this.remoteDocs.localData = this.currentElement;\n        this.tool = \"Edit\";\n    }\n}\n\n\napp.controller('angDocumentationController', angDocumentation);"]}